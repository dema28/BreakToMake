# Частые ошибки при запуске автотестов с Allure и их решения

Ниже приведены наиболее распространённые ошибки, с которыми можно столкнуться при запуске автотестов с использованием Allure, и рекомендации по их устранению.

| Ошибка | Возможная причина | Решение |
|--------|--------------------|---------|
| `allure: command not found` | Allure CLI не установлен или не добавлен в `PATH` | Установите Allure CLI: `scoop install allure` (Windows) или `brew install allure` (macOS) |
| `allure-results not found` | Тесты не сгенерировали результаты | Убедитесь, что тесты действительно запускались и не завершились ошибкой в `@Before*` методах или в `BaseTest`. Также проверьте, что используются аннотации из Allure, такие как `@Listeners(AllureListener.class)` или аналогичные. |
| `Could not find or load main class` | Неправильный синтаксис команды | Убедитесь, что вы используете формат `mvn -Dtest=ИмяКласса#ИмяМетода test` без опечаток или лишних символов. |
| `DISPLAY not set` в Linux/CI | Нет виртуального дисплея для headless-браузера | Добавьте строку `export DISPLAY=:99` перед запуском браузера и настройте Xvfb, как показано в CI-конфигурации. |
| Allure отчёт пустой / не открывается | Результаты не были сохранены или путь указан неверно | Убедитесь, что результат находится в `target/allure-results` и отчёт формируется с помощью: `allure generate target/allure-results --clean -o target/allure-report`. Открывайте через `allure open target/allure-report`. |
| В отчёте отсутствуют шаги, описания, метки | Не используются Allure-аннотации в тестах | Добавьте аннотации `@Epic`, `@Feature`, `@Severity`, `@Description`, `@Step`, `@Owner` и др. в тесты для полноты отчёта. |
| `WebDriverException: unknown error: cannot find Chrome binary` | Chrome не установлен в CI | Убедитесь, что Google Chrome установлен и доступен в системе. В Ubuntu установите через `apt install google-chrome-stable`. |

---

Если вы столкнулись с другой ошибкой — добавьте её в этот список. Чем полнее этот справочник, тем быстрее вы сможете решать проблемы в будущем.
